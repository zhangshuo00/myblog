---
title: 微信期末提纲
date: 2019-11-06 14:02:13
tags:
---
1. 公众号
2. 小程序

***
涉及技术：
* 前后端通信、安全加密、web协议（HTTPS/HTTP）
* 数据库、web开发框架、云服务器、备案
***
## 小程序：
* 小程序项目目录结构
* 小程序页面生命周期（基本流程以及相关回调函数）
* 注册小程序以及如何对接开发者服务器域名的一些注意点和限制规则
* 服务器开启HTTPS，域名要备案

* 小程序如何发起网络请求 （wx.request）

* 了解小程序的能力
  * 概括的了解其能力，能解决基础的问题

* 小程序服务端API：
  * 知道服务端API的调用方式：
    1. 需要先获取access_token
    2. 然后使用access_token去调用其他API
  * 如何获取access_token
    * 需要小程序的APPID和AppSecret

***
## 公众号：
1. 客户端-微信服务器-开发者服务器之间的通信
2. 调用公众号API


消息通信：
* 要进行消息通信，需要开启开发者配置：
  * URL：微信服务器要把消息转发到此
  * Token：用于验证过程
  * //密钥
  * //加密模式


**开启服务器配置的验证流程：**
  1. 开发者设置URL，并在开发者服务器启动Web服务
  2. 填写Token和开发者服务器的Token一致
  3. 点击确认，腾讯服务器向开发者服务器URL发起请求
  4. 开发者服务器接收请求并验证数据是否合法
  5. 合法则返回指定值


验证过程请求数据的处理：
  * 微信服务器向开发者服务器URL请求并携带以下参数：
    signature、timestamp、nonce、echostr
  * 开发者服务器按照以下方式验证signature是否合法：
    * 把token、timestamp、nonce字典排序
    * 排序后的数据拼接成一个字符串
    * 对拼接后的字符串进行shal加密
    * 加密后的数据和signature对比是否相同
    * 相同则返回echostr，标识次请求来自于微信服务器。


验证过程使用的是**GET请求**；
而验证成功后，则会使用**POST请求**转发用户消息。

转发用户消息以及开发者恢复用户消息的格式：**XML**

如果开发者服务器不需要回复消息：
  1. 返回空字符串
  2. 返回success

公众号接口的调用：
  *  和小程序调用过程一致，都要先获取access_token

区分公众号和小程序的AppID和AppSecret：
  * 两个不是相同的，也并无关联

测试号：
  * 测试号的一些特点和限制：
    * 可以调用大部分高级接口用于开发测试
    * 无法设置头像和名称
    * 关注用户有上限，目前为100个


## Nginx以及反向代理
了解Nginx的反向代理模式和应用场景

## Linux
文件/目录：
  * cd：切换工作目录
  * cp：复制文件/目录
  * mv：移动文件/目录，可用于重命名
  * rm：删除文件/目录，可删除非空目录
  * ls：显示文件详细信息以及目录内容

进程：
  * ps：查看进程
  * kill：向进程发送信号，默认是SIGTERM表示中断进程

