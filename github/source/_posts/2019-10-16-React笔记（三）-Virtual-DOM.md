---
title: React笔记（三）-Virtual DOM
date: 2019-10-16 09:13:30
tags:
---
一种编程的概念，是指虚拟的视图被保存在内存中，并通过诸如ReactDOM这样的库与真实的DOM保持同步，这一过程叫做`Reconciliation 协调`
## 差分算法（diff）
- 采用同级比对
- 比较不同类型的元素时，将删除旧元素并从零开始重构新元素
- 比较相同类型的ReactDOM元素时，则比较两者的属性，保持相同的底层DOM节点，并仅更新变化的属性
- 当组件更新时，实例保持相同，这样状态被维持。React 通过更新底层组件实例的属性(props)来匹配新元素
**虚拟DOM 的比较一般都是在state发生变化时**
- setState 是异步的，可合并连续发生的state变化（setState 是异步的）
**合理利用 key 属性提升性能**