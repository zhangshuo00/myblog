---
title: nodeJs笔记（三）
date: 2019-09-22 16:37:46
tags:
---
# 流 stream
## 流是什么
* 流是数据的集合，在操作大量数据或数据从外部逐段发送过来的时候变得非常有用
* 可以像通过管道连接linux命令一样，通过pipe组合功能
* 所有的流都是 ***EventEmitter*** 的实例，
***
## **使用流**
### pipe方法
> 使用管道的方式将流连接起来
* 将可读流的输出连接到可写流的输入，管道的source必须是可读流，destination必须是可写流
    ```javascript
    readableSrc.pipe(writableDest);
    ```
* 也可以是双工流/转换流
  ```javascript
  readableSrc.pipe(transformStream1).pipe(transformStream2).pipe(finalWritableDest)
  ```
### 流事件（更自定义的方式使用流）
* 直接通过事件读取，模拟pipe的读取、写入
  ```javascript
  //readable.pipe(writable)
  readable.on('data',(chunk)=>{
      writable.write(chunk);
  });

  readable.on('end',()=>{
      writable.end();
  });
  ```
### 可读流的暂停和流动模式
***
## **实现流**


