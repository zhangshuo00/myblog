---
title: 文件系统
date: 2019-09-29 20:19:10
tags:
---
## **fs** 模块
```javascript
const fs = require('fs');//引入模块
```
**fs** 模块中的方法均有同步和异步版本，异步的方法函数最后一个参数为回调函数，回调函数的第一个参数包含错误信息<font color=red>（error）</font>

建议使用异步的方法，比同步方法性能更高，速度更快，而且没有阻塞。
### 打开文件
```javascript
fs.open(path, flags[,mode], callback(err, fd))
//文件路径， 文件打开的行为， 设置文件模式， 回调函数
```
```javascript
var fs = require('fs');

console.log('准备打开文件');
fs.open('input.txt',function(err,fd){
    if(err){
        return console.log(err);
    }
    console.log('文件打开成功');
})
```
***
### 获取文件信息
```javascript
fs.stat(path, callback(err, stats))
//path 文件路径
//stats 是fs.stats对象

var fs = require('fs');
fs.stat('path', function(err, stats){
    console.log(stats.isFile());
})
```
| stats类中的方法 | 描述 |
| --- | --- |
|stats.isFile() | 判断是否为文件 |
|stats.isDirectory() | 判断是否为目录 |
|stats.isSymbolicLink() | 判断是否为软链接 |
```javascript
var fs = require('fs');
fs.stat('test.js', function(err, stats){
    if(err){
        return console.error(err);
    }
    console.log(stats);
    console.log('读取文件成功');

    console.log('是否为文件：'+stats.isFile());
});
```